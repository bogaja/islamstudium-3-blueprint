<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamstudium 3.0 - Technische Migrations-Blaupause</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #FAFAF9;
            color: #44403C;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px;
            max-height: 400px;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(231, 229, 228, 0.5);
        }

        .nav-active {
            background-color: #F59E0B;
            color: white;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .transition-all {
            transition-property: all;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
            transition-duration: 300ms;
        }
    </style>
</head>

<body class="bg-stone-50 text-stone-800 antialiased selection:bg-amber-100 selection:text-amber-900">

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 glass-panel border-b border-stone-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16 items-center">
                <div class="flex-shrink-0 flex items-center gap-2">
                    <div class="w-8 h-8 bg-amber-600 rounded-lg flex items-center justify-center text-white font-bold">I
                    </div>
                    <span class="font-bold text-xl tracking-tight text-stone-900">Islamstudium 3.0</span>
                </div>
                <div class="hidden md:flex space-x-1">
                    <button onclick="scrollToSection('vision')"
                        class="nav-btn px-4 py-2 rounded-md text-sm font-medium hover:bg-stone-100 transition-all text-stone-600">Vision</button>
                    <button onclick="scrollToSection('architecture')"
                        class="nav-btn px-4 py-2 rounded-md text-sm font-medium hover:bg-stone-100 transition-all text-stone-600">Architektur</button>
                    <button onclick="scrollToSection('ux')"
                        class="nav-btn px-4 py-2 rounded-md text-sm font-medium hover:bg-stone-100 transition-all text-stone-600">User
                        Experience</button>
                    <button onclick="scrollToSection('roadmap')"
                        class="nav-btn px-4 py-2 rounded-md text-sm font-medium hover:bg-stone-100 transition-all text-stone-600">Roadmap</button>
                </div>
                <div class="md:hidden">
                    <button class="text-stone-500 hover:text-stone-900"
                        onclick="document.getElementById('mobile-menu').classList.toggle('hidden')"><i
                            class="fas fa-bars"></i></button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" class="hidden md:hidden bg-white border-t border-stone-100 p-4 space-y-3 shadow-lg">
            <button onclick="scrollToSection('vision')" class="block w-full text-left py-2">Vision</button>
            <button onclick="scrollToSection('architecture')" class="block w-full text-left py-2">Architektur</button>
            <button onclick="scrollToSection('ux')" class="block w-full text-left py-2">User Experience</button>
            <button onclick="scrollToSection('roadmap')" class="block w-full text-left py-2">Roadmap</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="pt-32 pb-16 px-4 sm:px-6 lg:px-8 max-w-7xl mx-auto text-center">
        <span
            class="inline-block py-1 px-3 rounded-full bg-amber-100 text-amber-800 text-xs font-semibold tracking-wide uppercase mb-4">Projekt
            Blueprint</span>
        <h1 class="text-4xl sm:text-5xl font-extrabold text-stone-900 tracking-tight mb-6">
            Von WordPress Monolith zu <br class="hidden sm:block" />
            <span class="text-amber-600">Agentic Antigravity</span> Ökosystem
        </h1>
        <p class="mt-4 max-w-2xl mx-auto text-xl text-stone-600">
            Die strategische Neuausrichtung für eine skalierbare, hochperformante Lernplattform.
            Weg von <code>wp_postmeta</code> Chaos, hin zu echter Daten-Souveränität.
        </p>
        <div class="mt-8 flex justify-center gap-4">
            <button onclick="scrollToSection('architecture')"
                class="bg-stone-900 text-white px-6 py-3 rounded-lg font-medium hover:bg-stone-800 transition-all shadow-lg hover:shadow-xl">
                Technologie erkunden
            </button>
            <button onclick="scrollToSection('roadmap')"
                class="bg-white text-stone-900 border border-stone-300 px-6 py-3 rounded-lg font-medium hover:bg-stone-50 transition-all">
                Zeitplan ansehen
            </button>
        </div>
    </header>

    <!-- Section 1: Vision & Problem Analysis -->
    <section id="vision" class="py-16 bg-white border-t border-stone-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-stone-900">Strategische Notwendigkeit</h2>
                <p class="mt-4 text-stone-600 max-w-3xl mx-auto">
                    Das aktuelle System stößt an fundamentale Grenzen. Die Analyse des Status Quo zeigt, warum ein
                    bloßes Update nicht ausreicht und eine vollständige Migration zu einer maßgeschneiderten Architektur
                    unumgänglich ist.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Legacy State -->
                <div class="p-8 rounded-2xl bg-stone-50 border border-stone-200">
                    <div class="flex items-center mb-6">
                        <div
                            class="w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center text-xl mr-4">
                            <i class="fab fa-wordpress"></i>
                        </div>
                        <h3 class="text-xl font-bold text-stone-900">Legacy: WordPress Limitierung</h3>
                    </div>
                    <ul class="space-y-4 text-stone-600">
                        <li class="flex items-start">
                            <i class="fas fa-times-circle text-red-400 mt-1 mr-3"></i>
                            <span><strong>Datenbank-Engpass:</strong> Komplexe Lerndaten werden in ineffizienten
                                Key-Value-Paaren (<code>wp_postmeta</code>) gespeichert, was Skalierung
                                verhindert.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-times-circle text-red-400 mt-1 mr-3"></i>
                            <span><strong>Wartungs-Hölle:</strong> Abhängigkeit von >30 Plugins führt zu
                                Sicherheitslücken und Instabilität bei jedem Update.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-times-circle text-red-400 mt-1 mr-3"></i>
                            <span><strong>Keine Mobile App:</strong> Fehlende native Integration verhindert
                                Push-Notifications und Offline-Learning.</span>
                        </li>
                    </ul>
                </div>

                <!-- Future State -->
                <div class="p-8 rounded-2xl bg-stone-900 text-white shadow-xl relative overflow-hidden">
                    <div
                        class="absolute top-0 right-0 -mt-4 -mr-4 w-24 h-24 bg-amber-500 rounded-full opacity-20 blur-xl">
                    </div>
                    <div class="flex items-center mb-6 relative z-10">
                        <div
                            class="w-12 h-12 rounded-full bg-amber-600 text-white flex items-center justify-center text-xl mr-4">
                            <i class="fas fa-rocket"></i>
                        </div>
                        <h3 class="text-xl font-bold">Zukunft: Antigravity Ecosystem</h3>
                    </div>
                    <ul class="space-y-4 text-stone-300 relative z-10">
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-amber-500 mt-1 mr-3"></i>
                            <span><strong>Relationales Design:</strong> Supabase (PostgreSQL) ermöglicht komplexe
                                Abfragen für Fortschrittstracking in Millisekunden.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-amber-500 mt-1 mr-3"></i>
                            <span><strong>Agentic Development:</strong> Nutzung von Google Antigravity & Gemini für 10x
                                schnellere Feature-Entwicklung und Wartung.</span>
                        </li>
                        <li class="flex items-start">
                            <i class="fas fa-check-circle text-amber-500 mt-1 mr-3"></i>
                            <span><strong>Cross-Platform:</strong> Capacitor verwandelt die Web-App in native iOS &
                                Android Apps mit Push-Funktion.</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: Architecture & Tech Stack -->
    <section id="architecture" class="py-16 bg-stone-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="mb-12">
                <h2 class="text-3xl font-bold text-stone-900">High-Performance Architektur</h2>
                <p class="mt-4 text-stone-600 max-w-3xl">
                    Die neue Plattform basiert auf einem "Headless"-Ansatz. Frontend und Backend sind entkoppelt, um
                    maximale Geschwindigkeit und Flexibilität für zukünftige KI-Integrationen zu gewährleisten.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Tech Stack Grid -->
                <div class="lg:col-span-2 grid grid-cols-2 sm:grid-cols-3 gap-4">
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('nextjs')">
                        <i class="fas fa-layer-group text-3xl text-stone-800 mb-3"></i>
                        <h4 class="font-bold text-sm">Next.js 15</h4>
                        <p class="text-xs text-stone-500 mt-1">Frontend Core</p>
                    </div>
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('supabase')">
                        <i class="fas fa-database text-3xl text-green-600 mb-3"></i>
                        <h4 class="font-bold text-sm">Supabase</h4>
                        <p class="text-xs text-stone-500 mt-1">Backend & Auth</p>
                    </div>
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('capacitor')">
                        <i class="fas fa-mobile-alt text-3xl text-blue-500 mb-3"></i>
                        <h4 class="font-bold text-sm">Capacitor 8</h4>
                        <p class="text-xs text-stone-500 mt-1">Mobile Native</p>
                    </div>
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('antigravity')">
                        <i class="fas fa-robot text-3xl text-purple-600 mb-3"></i>
                        <h4 class="font-bold text-sm">Antigravity</h4>
                        <p class="text-xs text-stone-500 mt-1">Dev Environment</p>
                    </div>
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('hostinger')">
                        <i class="fas fa-server text-3xl text-indigo-600 mb-3"></i>
                        <h4 class="font-bold text-sm">Hostinger KVM</h4>
                        <p class="text-xs text-stone-500 mt-1">Infrastructure</p>
                    </div>
                    <div class="tech-card bg-white p-6 rounded-xl border border-stone-200 cursor-pointer hover:border-amber-500 transition-all text-center"
                        onclick="showTechDetail('mux')">
                        <i class="fas fa-play-circle text-3xl text-pink-500 mb-3"></i>
                        <h4 class="font-bold text-sm">Mux / Stream</h4>
                        <p class="text-xs text-stone-500 mt-1">Video Engine</p>
                    </div>
                </div>

                <!-- Detail Panel -->
                <div
                    class="lg:col-span-1 bg-white p-6 rounded-xl border border-stone-200 shadow-sm flex flex-col justify-center">
                    <div id="tech-detail-content">
                        <div class="text-center text-stone-400">
                            <i class="fas fa-mouse-pointer text-4xl mb-4"></i>
                            <p>Wähle eine Technologie aus, um die Spezifikationen und Entscheidungsgrundlagen
                                anzuzeigen.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Performance Chart -->
            <div class="mt-12 bg-white p-6 rounded-xl border border-stone-200">
                <div class="flex flex-col md:flex-row items-center justify-between mb-6">
                    <div>
                        <h3 class="text-lg font-bold text-stone-900">Simulierte Datenbank-Performance</h3>
                        <p class="text-sm text-stone-500">Query Latency bei 10.000 gleichzeitigen Nutzeranfragen
                            (Student Progress)</p>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 3: UX & Gamification -->
    <section id="ux" class="py-16 bg-white border-t border-stone-100">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-12">
                <h2 class="text-3xl font-bold text-stone-900">User Experience & Rollen</h2>
                <p class="mt-4 text-stone-600 max-w-3xl mx-auto">
                    Das System unterscheidet strikt zwischen Lernenden und Lehrenden, vereint aber beide in einem
                    gamifizierten, motivierenden Ökosystem.
                </p>
            </div>

            <!-- Role Tabs -->
            <div class="flex justify-center mb-8">
                <div class="bg-stone-100 p-1 rounded-lg inline-flex">
                    <button onclick="switchRole('student')" id="tab-student"
                        class="px-6 py-2 rounded-md text-sm font-medium bg-white text-stone-900 shadow-sm transition-all">Student</button>
                    <button onclick="switchRole('mentor')" id="tab-mentor"
                        class="px-6 py-2 rounded-md text-sm font-medium text-stone-500 hover:text-stone-900 transition-all">Mentor</button>
                    <button onclick="switchRole('admin')" id="tab-admin"
                        class="px-6 py-2 rounded-md text-sm font-medium text-stone-500 hover:text-stone-900 transition-all">Admin</button>
                </div>
            </div>

            <!-- Role Content -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
                <div id="role-content"
                    class="bg-stone-50 p-8 rounded-2xl border border-stone-200 h-full flex flex-col justify-center">
                    <h3 class="text-2xl font-bold text-stone-900 mb-4">Das Studenten-Dashboard</h3>
                    <p class="text-stone-600 mb-4">
                        Zentraler Hub für den Lernfortschritt. Fokus auf Motivation durch Visualisierung.
                    </p>
                    <ul class="space-y-3">
                        <li class="flex items-center text-stone-700"><i class="fas fa-check text-amber-500 w-6"></i>
                            "Islamstudium 3.0" Lehrplan-Tracker</li>
                        <li class="flex items-center text-stone-700"><i class="fas fa-check text-amber-500 w-6"></i>
                            Gamification (Badges, Streaks)</li>
                        <li class="flex items-center text-stone-700"><i class="fas fa-check text-amber-500 w-6"></i>
                            Offline-Video Download (Mobile)</li>
                        <li class="flex items-center text-stone-700"><i class="fas fa-check text-amber-500 w-6"></i>
                            Persönliche Notizen & Lesezeichen</li>
                    </ul>
                </div>

                <!-- Interactive Demo Component -->
                <div class="bg-stone-900 p-8 rounded-2xl text-white shadow-2xl">
                    <div class="flex justify-between items-center mb-6">
                        <h4 class="text-lg font-medium text-stone-300">Live Gamification Demo</h4>
                        <span id="demo-badge"
                            class="px-3 py-1 bg-stone-700 rounded-full text-xs font-bold text-stone-400 transition-all">Anfänger</span>
                    </div>

                    <div class="mb-2 flex justify-between text-sm">
                        <span>Kursfortschritt (Fiqh Grundlagen)</span>
                        <span id="progress-text">0%</span>
                    </div>
                    <div class="w-full bg-stone-700 rounded-full h-4 mb-8 overflow-hidden">
                        <div id="progress-bar"
                            class="bg-gradient-to-r from-amber-600 to-amber-400 h-4 rounded-full transition-all duration-500 ease-out"
                            style="width: 0%"></div>
                    </div>

                    <div class="space-y-3">
                        <button onclick="updateProgress(25)"
                            class="w-full text-left px-4 py-3 bg-stone-800 hover:bg-stone-700 rounded-lg transition-colors flex items-center group">
                            <div
                                class="w-6 h-6 rounded-full border-2 border-stone-500 mr-3 group-hover:border-amber-400 flex items-center justify-center">
                                <div
                                    class="w-3 h-3 bg-amber-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                                </div>
                            </div>
                            <span class="text-stone-300 group-hover:text-white">Video Lektion 1 ansehen</span>
                        </button>
                        <button onclick="updateProgress(25)"
                            class="w-full text-left px-4 py-3 bg-stone-800 hover:bg-stone-700 rounded-lg transition-colors flex items-center group">
                            <div
                                class="w-6 h-6 rounded-full border-2 border-stone-500 mr-3 group-hover:border-amber-400 flex items-center justify-center">
                                <div
                                    class="w-3 h-3 bg-amber-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                                </div>
                            </div>
                            <span class="text-stone-300 group-hover:text-white">Quiz absolvieren</span>
                        </button>
                        <button onclick="updateProgress(25)"
                            class="w-full text-left px-4 py-3 bg-stone-800 hover:bg-stone-700 rounded-lg transition-colors flex items-center group">
                            <div
                                class="w-6 h-6 rounded-full border-2 border-stone-500 mr-3 group-hover:border-amber-400 flex items-center justify-center">
                                <div
                                    class="w-3 h-3 bg-amber-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity">
                                </div>
                            </div>
                            <span class="text-stone-300 group-hover:text-white">Hausaufgabe hochladen</span>
                        </button>
                    </div>
                    <p class="mt-6 text-xs text-stone-500 text-center">Klicke auf Aufgaben, um den Level-Aufstieg zu
                        simulieren.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Financials & Roadmap -->
    <section id="roadmap" class="py-16 bg-stone-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12">
                <!-- Roadmap -->
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-8">Migrations-Phasen</h2>
                    <div class="space-y-8 border-l-2 border-stone-200 ml-4 pl-8 relative">
                        <div class="relative">
                            <div class="absolute -left-[41px] bg-amber-500 h-5 w-5 rounded-full border-4 border-white">
                            </div>
                            <h4 class="text-lg font-bold text-stone-900">Phase 1: Foundation (Woche 1-4)</h4>
                            <p class="text-sm text-stone-500 mb-2">Setup & Core Architecture</p>
                            <p class="text-stone-600 text-sm bg-white p-4 rounded-lg shadow-sm">
                                Einrichtung Antigravity Env, Supabase Schema Design, Auth-System (SAML/Social),
                                Grundlegendes Next.js Layout.
                            </p>
                        </div>
                        <div class="relative">
                            <div class="absolute -left-[41px] bg-stone-300 h-5 w-5 rounded-full border-4 border-white">
                            </div>
                            <h4 class="text-lg font-bold text-stone-900">Phase 2: Core Features (Woche 5-10)</h4>
                            <p class="text-sm text-stone-500 mb-2">LMS Logic & Migration</p>
                            <p class="text-stone-600 text-sm bg-white p-4 rounded-lg shadow-sm">
                                Kurs-Struktur, Video-Player Integration (Mux), Datenmigration von WordPress (User &
                                History), Payment Gateway.
                            </p>
                        </div>
                        <div class="relative">
                            <div class="absolute -left-[41px] bg-stone-300 h-5 w-5 rounded-full border-4 border-white">
                            </div>
                            <h4 class="text-lg font-bold text-stone-900">Phase 3: Mobile & Polish (Woche 11-14)</h4>
                            <p class="text-sm text-stone-500 mb-2">App Stores & Launch</p>
                            <p class="text-stone-600 text-sm bg-white p-4 rounded-lg shadow-sm">
                                Capacitor Build (iOS/Android), Push Notifications, Offline Sync, Beta-Testing, Final
                                Deployment auf Hostinger Cloud.
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Budget -->
                <div>
                    <h2 class="text-3xl font-bold text-stone-900 mb-8">Budget Allokation</h2>
                    <p class="text-stone-600 mb-6">
                        Schätzung basierend auf 10.000€ Gesamtbudget (exkl. laufende Serverkosten). Fokus liegt auf
                        Entwicklungskapazität.
                    </p>
                    <div class="bg-white p-6 rounded-xl border border-stone-200">
                        <div class="chart-container">
                            <canvas id="budgetChart"></canvas>
                        </div>
                        <div class="mt-6 text-center text-sm text-stone-500">
                            *Infrastrukturkosten (Hostinger/Supabase) skalieren nutzungsbasiert.
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-stone-900 text-stone-400 py-12 border-t border-stone-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col md:flex-row justify-between items-center">
            <div class="mb-4 md:mb-0">
                <span class="font-bold text-white text-lg">Islamstudium 3.0</span>
                <p class="text-xs mt-1">Technische Spezifikation v1.0</p>
            </div>
            <div class="text-sm">
                Generiert basierend auf Requirements Specification Doc.
            </div>
        </div>
    </footer>

    <script>
        // --- State Management ---
        const appState = {
            currentRole: 'student',
            progress: 0,
            techDetails: {
                'nextjs': {
                    title: 'Next.js 15 (App Router)',
                    desc: 'Nutzt React Server Components für extrem schnelles Laden. Ermöglicht SEO-Optimierung für öffentliche Kurse und statischen Export wo möglich.',
                    icon: 'fa-layer-group',
                    color: 'text-stone-800'
                },
                'supabase': {
                    title: 'Supabase (PostgreSQL)',
                    desc: 'Ersetzt das langsame WordPress WP_Meta System. Bietet Row Level Security (RLS) für Datenschutz und integrierte Auth (Login/Register).',
                    icon: 'fa-database',
                    color: 'text-green-600'
                },
                'capacitor': {
                    title: 'Capacitor 8',
                    desc: 'Bridge-Technologie, die die Web-App in native iOS/Android Apps verpackt. Zugriff auf Kamera, Push-Nachrichten und Filesystem.',
                    icon: 'fa-mobile-alt',
                    color: 'text-blue-500'
                },
                'antigravity': {
                    title: 'Google Antigravity',
                    desc: 'Agent-First IDE. Ermöglicht schnelle Iterationen durch KI-gestützte Code-Generierung und automatisiertes Refactoring.',
                    icon: 'fa-robot',
                    color: 'text-purple-600'
                },
                'hostinger': {
                    title: 'Hostinger KVM VPS',
                    desc: 'Kosteneffiziente, skalierbare Hosting-Lösung (NVMe Storage) für das Node.js Backend und Datenbank-Replikation.',
                    icon: 'fa-server',
                    color: 'text-indigo-600'
                },
                'mux': {
                    title: 'Mux Video',
                    desc: 'API-first Video Streaming. Adaptive Bitrate Streaming (kein Puffern) und detaillierte Analytics über Sehverhalten.',
                    icon: 'fa-play-circle',
                    color: 'text-pink-500'
                }
            },
            roleContent: {
                'student': {
                    title: 'Das Studenten-Dashboard',
                    text: 'Zentraler Hub für den Lernfortschritt. Fokus auf Motivation durch Visualisierung.',
                    features: ['"Islamstudium 3.0" Lehrplan-Tracker', 'Gamification (Badges, Streaks)', 'Offline-Video Download (Mobile)', 'Persönliche Notizen & Lesezeichen']
                },
                'mentor': {
                    title: 'Mentoren-Cockpit',
                    text: 'Effiziente Verwaltung von Mentees. Automatisierte Alarme bei Inaktivität.',
                    features: ['Übersicht aller zugewiesenen Mentees', 'Fortschritts-Analyse & Risikogruppen', 'Direkt-Nachrichten & Feedback', 'Automatisierte Reports (n8n Integration)']
                },
                'admin': {
                    title: 'Admin-Zentrale',
                    text: 'Vollständige Kontrolle über Inhalte, Benutzer und Finanzen ohne WordPress-Ballast.',
                    features: ['User Management (RBAC)', 'Content Management (CMS)', 'Finanz-Dashboard (Stripe Sync)', 'System Health Monitoring']
                }
            }
        };

        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        function showTechDetail(techKey) {
            const data = appState.techDetails[techKey];
            const container = document.getElementById('tech-detail-content');
            container.style.opacity = '0';
            setTimeout(() => {
                container.innerHTML = `
                    <div class="text-center">
                        <i class="fas ${data.icon} ${data.color} text-5xl mb-4"></i>
                        <h3 class="text-xl font-bold text-stone-900 mb-2">${data.title}</h3>
                        <p class="text-stone-600 text-sm leading-relaxed">${data.desc}</p>
                        <div class="mt-6 pt-4 border-t border-stone-100">
                             <span class="text-xs uppercase tracking-wider font-semibold text-stone-400">Status: Beschlossen</span>
                        </div>
                    </div>
                `;
                container.style.opacity = '1';
                container.style.transition = 'opacity 0.3s ease';
            }, 200);
        }

        function switchRole(role) {
            ['student', 'mentor', 'admin'].forEach(r => {
                const btn = document.getElementById(`tab-${r}`);
                if (r === role) {
                    btn.classList.remove('text-stone-500', 'hover:text-stone-900');
                    btn.classList.add('bg-white', 'text-stone-900', 'shadow-sm');
                } else {
                    btn.classList.add('text-stone-500', 'hover:text-stone-900');
                    btn.classList.remove('bg-white', 'text-stone-900', 'shadow-sm');
                }
            });

            const data = appState.roleContent[role];
            const container = document.getElementById('role-content');
            container.innerHTML = `
                <h3 class="text-2xl font-bold text-stone-900 mb-4">${data.title}</h3>
                <p class="text-stone-600 mb-4">${data.text}</p>
                <ul class="space-y-3">
                    ${data.features.map(f => `<li class="flex items-center text-stone-700"><i class="fas fa-check text-amber-500 w-6"></i> ${f}</li>`).join('')}
                </ul>
            `;
        }

        function updateProgress(amount) {
            const bar = document.getElementById('progress-bar');
            const text = document.getElementById('progress-text');
            const badge = document.getElementById('demo-badge');

            let current = parseInt(bar.style.width) || 0;
            let newProgress = current + amount;
            if (newProgress > 100) newProgress = 100;

            bar.style.width = `${newProgress}%`;
            text.innerText = `${newProgress}%`;

            if (newProgress >= 50 && newProgress < 100) {
                badge.innerText = "Fortgeschritten";
                badge.className = "px-3 py-1 bg-amber-600 rounded-full text-xs font-bold text-white transition-all";
            } else if (newProgress === 100) {
                badge.innerText = "Meister";
                badge.className = "px-3 py-1 bg-green-600 rounded-full text-xs font-bold text-white transition-all";
                text.innerText = "100% - Abgeschlossen!";
            }
        }

        // --- Chart.js Initialization ---
        document.addEventListener('DOMContentLoaded', function () {
            const ctxPerf = document.getElementById('performanceChart').getContext('2d');
            new Chart(ctxPerf, {
                type: 'bar',
                data: {
                    labels: ['WordPress Legacy', 'Antigravity/Supabase'],
                    datasets: [{
                        label: 'Datenbank Abfragezeit (ms)',
                        data: [850, 45],
                        backgroundColor: ['#FCA5A5', '#34D399'],
                        borderRadius: 6,
                        barThickness: 50
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    return context.parsed.y + ' ms (Durchschnitt)';
                                }
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: { display: true, text: 'Millisekunden (ms)' },
                            grid: { color: '#F3F4F6' }
                        },
                        x: { grid: { display: false } }
                    }
                }
            });

            const ctxBudget = document.getElementById('budgetChart').getContext('2d');
            new Chart(ctxBudget, {
                type: 'doughnut',
                data: {
                    labels: ['Entwicklung (Frontend/Backend)', 'Design & UI', 'Infrastruktur Setup', 'Migration Tools & 3rd Party'],
                    datasets: [{
                        data: [5500, 2000, 1500, 1000],
                        backgroundColor: ['#334155', '#B45309', '#94A3B8', '#CBD5E1'],
                        borderWidth: 0,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '70%',
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                padding: 20,
                                font: { family: 'Inter', size: 12 }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function (context) {
                                    let label = context.label || '';
                                    if (label) label += ': ';
                                    label += context.parsed + '€';
                                    return label;
                                }
                            }
                        }
                    }
                }
            });

            showTechDetail('nextjs');
        });
    </script>
</body>

</html>